<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>R6 Class for Dynamic TOPMODEL — dynatop • dynatop</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="R6 Class for Dynamic TOPMODEL — dynatop"><meta property="og:description" content="R6 Class for Dynamic TOPMODEL
R6 Class for Dynamic TOPMODEL"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dynatop</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.0.1005</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/dynatop.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/HRU.html">The HRU</a>
    </li>
    <li>
      <a href="../articles/Notes_on_the_implementation_of_Dynamic_TOPMODEL.html">Notes on the implementation of Dynamic TOPMODEL</a>
    </li>
    <li>
      <a href="../articles/The_Model_Object.html">The Model Object</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/waternumbers/dynatop/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>R6 Class for Dynamic TOPMODEL</h1>
    <small class="dont-index">Source: <a href="https://github.com/waternumbers/dynatop/blob/HEAD/R/dynatop.R" class="external-link"><code>R/dynatop.R</code></a></small>
    <div class="hidden name"><code>dynatop.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>R6 Class for Dynamic TOPMODEL</p>
<p>R6 Class for Dynamic TOPMODEL</p>
    </div>


    <div id="methods">
    <h2>Methods</h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-dynatop-new"><code>dynatop$new()</code></a></p></li>
<li><p><a href="#method-dynatop-add_data"><code>dynatop$add_data()</code></a></p></li>
<li><p><a href="#method-dynatop-clear_data"><code>dynatop$clear_data()</code></a></p></li>
<li><p><a href="#method-dynatop-initialise"><code>dynatop$initialise()</code></a></p></li>
<li><p><a href="#method-dynatop-sim"><code>dynatop$sim()</code></a></p></li>
<li><p><a href="#method-dynatop-get_output"><code>dynatop$get_output()</code></a></p></li>
<li><p><a href="#method-dynatop-plot_output"><code>dynatop$plot_output()</code></a></p></li>
<li><p><a href="#method-dynatop-get_obs_data"><code>dynatop$get_obs_data()</code></a></p></li>
<li><p><a href="#method-dynatop-get_model"><code>dynatop$get_model()</code></a></p></li>
<li><p><a href="#method-dynatop-get_mass_errors"><code>dynatop$get_mass_errors()</code></a></p></li>
<li><p><a href="#method-dynatop-get_states"><code>dynatop$get_states()</code></a></p></li>
<li><p><a href="#method-dynatop-plot_state"><code>dynatop$plot_state()</code></a></p></li>
<li><p><a href="#method-dynatop-clone"><code>dynatop$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-dynatop-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Creates a dynatop class object from the a list based model description as generated by dynatopGIS.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/dynatop.html">dynatop</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">model</span>, map <span class="op">=</span> <span class="cn">NULL</span>, use_states <span class="op">=</span> <span class="cn">FALSE</span>, delta <span class="op">=</span> <span class="fl">1e-13</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>model</code></dt>
<dd><p>a dynamic TOPMODEL list object</p></dd>


<dt><code>map</code></dt>
<dd><p>file name of the map layers for the model</p></dd>


<dt><code>use_states</code></dt>
<dd><p>logical if states should be imported</p></dd>


<dt><code>delta</code></dt>
<dd><p>error term in checking redistribution sums</p></dd>


<dt><code>drop_map</code></dt>
<dd><p>logical if the map should be dropped</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h4>
<p>This function makes some basic consistency checks on a list representing a dynamic TOPMODEL model. The checks performed and basic 'sanity' checks. They do not check for the logic of the parameter values nor the consistency of states and parameters. Sums of the redistribution matrices are checked to be in the range 1 +/- delta.</p>
</div>

<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>invisible(self) suitable for chaining</p>
</div>

</div><p></p><hr><a id="method-dynatop-add_data"></a><div class="section">
<h3 id="method-add-data-">Method <code>add_data()</code><a class="anchor" aria-label="anchor" href="#method-add-data-"></a></h3>
<p>Adds observed data to a dynatop object</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">dynatop</span><span class="op">$</span><span class="fu">add_data</span><span class="op">(</span><span class="va">obs_data</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>obs_data</code></dt>
<dd><p>an xts object of observed data</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a></h4>
<p>This function makes some basic consistency checks on the observations to ensure they have uniform timestep and all required series are present.</p>
</div>

<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>invisible(self) suitable for chaining</p>
</div>

</div><p></p><hr><a id="method-dynatop-clear_data"></a><div class="section">
<h3 id="method-clear-data-">Method <code>clear_data()</code><a class="anchor" aria-label="anchor" href="#method-clear-data-"></a></h3>
<p>Clears all forcing and simulation data except current states</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">dynatop</span><span class="op">$</span><span class="fu">clear_data</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>invisible(self) suitable for chaining</p>
</div>

</div><p></p><hr><a id="method-dynatop-initialise"></a><div class="section">
<h3 id="method-initialise-">Method <code>initialise()</code><a class="anchor" aria-label="anchor" href="#method-initialise-"></a></h3>
<p>Initialises a dynatop object in the simplest way possible.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">dynatop</span><span class="op">$</span><span class="fu">initialise</span><span class="op">(</span></span>
<span>  vtol <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">.Machine</span><span class="op">$</span><span class="va">double.eps</span><span class="op">)</span>,</span>
<span>  ftol <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">.Machine</span><span class="op">$</span><span class="va">double.eps</span><span class="op">)</span>,</span>
<span>  max_it <span class="op">=</span> <span class="fl">1000</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>vtol</code></dt>
<dd><p>tolerance for the solution for the saturated zone storage (as volume)</p></dd>


<dt><code>ftol</code></dt>
<dd><p>tolerance for the solution of the saturated zone storage (as difference of function from 0)</p></dd>


<dt><code>max_it</code></dt>
<dd><p>maximum number of iterations to use in the solution of the saturated zone</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>invisible(self) suitable for chaining</p>
</div>

</div><p></p><hr><a id="method-dynatop-sim"></a><div class="section">
<h3 id="method-sim-">Method <code>sim()</code><a class="anchor" aria-label="anchor" href="#method-sim-"></a></h3>
<p>Simulate the hillslope and channel components of a dynatop object</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">dynatop</span><span class="op">$</span><span class="fu">sim</span><span class="op">(</span></span>
<span>  <span class="va">output_defn</span>,</span>
<span>  keep_states <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sub_step <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vtol <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  ftol <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">.Machine</span><span class="op">$</span><span class="va">double.eps</span><span class="op">)</span>,</span>
<span>  max_it <span class="op">=</span> <span class="fl">1000</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>output_defn</code></dt>
<dd><p>a description of the output series</p></dd>


<dt><code>keep_states</code></dt>
<dd><p>a vector of POSIXct objects (e.g. from xts) giving the time stamp at which the states should be kept</p></dd>


<dt><code>sub_step</code></dt>
<dd><p>simulation timestep in seconds, default value of NULL results in data time step</p></dd>


<dt><code>vtol</code></dt>
<dd><p>tolerance on width of bounds in the numeric search for surface and saturated zone solutions (as volume)</p></dd>


<dt><code>ftol</code></dt>
<dd><p>- not currently used</p></dd>


<dt><code>max_it</code></dt>
<dd><p>maximum number of iterations to use in the solution of the saturated zone</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-2">Details<a class="anchor" aria-label="anchor" href="#details-2"></a></h4>
<p>Saving the states at every timestep and keeping the mass balance can generate very large data sets!!</p>
</div>

<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>invisible(self) for chaining</p>
</div>

</div><p></p><hr><a id="method-dynatop-get_output"></a><div class="section">
<h3 id="method-get-output-">Method <code>get_output()</code><a class="anchor" aria-label="anchor" href="#method-get-output-"></a></h3>
<p>Return channel inflow as an xts series or list of xts series</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">dynatop</span><span class="op">$</span><span class="fu">get_output</span><span class="op">(</span>name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">private</span><span class="op">$</span><span class="va">time_series</span><span class="op">$</span><span class="va">output</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>one or more output series to return</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-dynatop-plot_output"></a><div class="section">
<h3 id="method-plot-output-">Method <code>plot_output()</code><a class="anchor" aria-label="anchor" href="#method-plot-output-"></a></h3>
<p>Plot the channel inflow</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">dynatop</span><span class="op">$</span><span class="fu">plot_output</span><span class="op">(</span>name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">private</span><span class="op">$</span><span class="va">time_series</span><span class="op">$</span><span class="va">output</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>of series to plot</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-dynatop-get_obs_data"></a><div class="section">
<h3 id="method-get-obs-data-">Method <code>get_obs_data()</code><a class="anchor" aria-label="anchor" href="#method-get-obs-data-"></a></h3>
<p>Get the observed data</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">dynatop</span><span class="op">$</span><span class="fu">get_obs_data</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-dynatop-get_model"></a><div class="section">
<h3 id="method-get-model-">Method <code>get_model()</code><a class="anchor" aria-label="anchor" href="#method-get-model-"></a></h3>
<p>Return the model</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">dynatop</span><span class="op">$</span><span class="fu">get_model</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-dynatop-get_mass_errors"></a><div class="section">
<h3 id="method-get-mass-errors-">Method <code>get_mass_errors()</code><a class="anchor" aria-label="anchor" href="#method-get-mass-errors-"></a></h3>
<p>Return the model</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">dynatop</span><span class="op">$</span><span class="fu">get_mass_errors</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-dynatop-get_states"></a><div class="section">
<h3 id="method-get-states-">Method <code>get_states()</code><a class="anchor" aria-label="anchor" href="#method-get-states-"></a></h3>
<p>Return states</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">dynatop</span><span class="op">$</span><span class="fu">get_states</span><span class="op">(</span>record <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>record</code></dt>
<dd><p>logical TRUE if the record should be returned. Otherwise the current states returned</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-dynatop-plot_state"></a><div class="section">
<h3 id="method-plot-state-">Method <code>plot_state()</code><a class="anchor" aria-label="anchor" href="#method-plot-state-"></a></h3>
<p>Plot a current state of the system</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">dynatop</span><span class="op">$</span><span class="fu">plot_state</span><span class="op">(</span>state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"s_sf"</span>, <span class="st">"s_rz"</span>, <span class="st">"s_uz"</span>, <span class="st">"s_sz"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>state</code></dt>
<dd><p>the name of the state to be plotted</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-dynatop-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-12">Usage<a class="anchor" aria-label="anchor" href="#usage-12"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">dynatop</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## the vignettes contains further details of the method calls.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Swindale"</span><span class="op">)</span> <span class="co">## example data</span></span></span>
<span class="r-in"><span><span class="va">mdl</span> <span class="op">&lt;-</span> <span class="va">Swindale</span><span class="op">$</span><span class="va">model</span></span></span>
<span class="r-in"><span><span class="va">mdl</span><span class="op">$</span><span class="va">map</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>,<span class="st">"Swindale.tif"</span>,package<span class="op">=</span><span class="st">"dynatop"</span>,mustWork<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ctch_mdl</span> <span class="op">&lt;-</span> <span class="va">dynatop</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">mdl</span><span class="op">$</span><span class="va">hru</span>,map<span class="op">=</span><span class="va">mdl</span><span class="op">$</span><span class="va">map</span><span class="op">)</span> <span class="co">## create with model</span></span></span>
<span class="r-in"><span><span class="va">ctch_mdl</span><span class="op">$</span><span class="fu">add_data</span><span class="op">(</span><span class="va">Swindale</span><span class="op">$</span><span class="va">obs</span><span class="op">)</span> <span class="co">## add observations</span></span></span>
<span class="r-in"><span><span class="va">ctch_mdl</span><span class="op">$</span><span class="fu">initialise</span><span class="op">(</span><span class="op">)</span> <span class="co">## initialise model</span></span></span>
<span class="r-in"><span><span class="va">ctch_mdl</span><span class="op">$</span><span class="fu">sim</span><span class="op">(</span><span class="va">Swindale</span><span class="op">$</span><span class="va">model</span><span class="op">$</span><span class="va">output_flux</span><span class="op">)</span> <span class="co">## simulate model</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Output definition does not have scale - adding a vector of 1's</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Paul Smith, Peter Metcalfe.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

