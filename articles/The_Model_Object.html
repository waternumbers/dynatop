<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Model Object • dynatop</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="The Model Object">
<meta property="og:description" content="dynatop">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dynatop</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/dynatop.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Channel_HRU.html">Channel HRU</a>
    </li>
    <li>
      <a href="../articles/Hillslope_HRU.html">The Hillslope HRU</a>
    </li>
    <li>
      <a href="../articles/Notes_on_the_implementation_of_Dynamic_TOPMODEL.html">Notes on the implementation of Dynamic TOPMODEL</a>
    </li>
    <li>
      <a href="../articles/Selected_References.html">Selected References</a>
    </li>
    <li>
      <a href="../articles/The_Model_Object.html">The Model Object</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/waternumbers/dynatop/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>The Model Object</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/waternumbers/dynatop/blob/HEAD/vignettes/The_Model_Object.Rmd" class="external-link"><code>vignettes/The_Model_Object.Rmd</code></a></small>
      <div class="hidden name"><code>The_Model_Object.Rmd</code></div>

    </div>

    
    
<p>The purpose of this vignette is to document the structure of a Dynamic
TOPMODEL model ‘object’; that is the structure of the model that can be generated in
the <a href="https://waternumbers.github.io/dynatopGIS/" class="external-link">dynatopGIS</a> package and is
used in calls to the <code>dynatop</code> function in the current package. Currently
the model is stored as an R variable of the list class.</p>
<p>This should be read alongside the <a href="dynatop.html">“Getting
Started”</a> vignette which demonstrates the manipulation and use
of a model object.</p>
<p>The model structure will be documented with reference to the model in the test
catchment data supplied with the package. This can be loaded with</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://waternumbers.github.io/dynatop/" class="external-link">dynatop</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Swindale"</span><span class="op">)</span>
<span class="va">model</span> <span class="op">&lt;-</span> <span class="va">Swindale</span><span class="op">$</span><span class="va">model</span></code></pre></div>
<p>The top level of the model contains the following elements:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span>
<span class="co">#&gt;  [1] "options"        "map"            "channel"        "hillslope"     </span>
<span class="co">#&gt;  [5] "flow_direction" "gauge"          "point_inflow"   "diffuse_inflow"</span>
<span class="co">#&gt;  [9] "precip_input"   "pet_input"</span></code></pre></div>
<p>These are outlined in Table <a href="#tab:model-table">1</a> and described in more detail in the sections
below.</p>
<table class="table">
<caption>
<span id="tab:model-table">Table 1: </span> Description of top-level model components</caption>
<colgroup>
<col width="25%">
<col width="25%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Class</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>options</td>
<td>character vector</td>
<td>Options defining the model</td>
</tr>
<tr class="even">
<td>hillslope</td>
<td>data.frame</td>
<td>Description of the hill slope HRU units</td>
</tr>
<tr class="odd">
<td>channel</td>
<td>data.frame</td>
<td>Description of the channel HRU units</td>
</tr>
<tr class="even">
<td>gauge</td>
<td>data.frame</td>
<td>Description of the gauge locations on the channel network</td>
</tr>
<tr class="odd">
<td>point_inflow</td>
<td>data.frame</td>
<td>Description of the point inflows to the channel network</td>
</tr>
<tr class="even">
<td>diffuse_inflow</td>
<td>data.frame</td>
<td>Description of the diffuse inflows to the channel network</td>
</tr>
<tr class="odd">
<td>flow_direction</td>
<td>data.frame</td>
<td>Description of the flow linkages between HRUs</td>
</tr>
<tr class="even">
<td>precip_input</td>
<td>data.frame</td>
<td>Description of the precipitation input to the HRUs</td>
</tr>
<tr class="odd">
<td>pet_input</td>
<td>data.frame</td>
<td>Description of the PET input to the HRUs</td>
</tr>
<tr class="even">
<td>map</td>
<td>list</td>
<td>Location of files for creating plots of the HRUs</td>
</tr>
</tbody>
</table>
<div class="section level2">
<h2 id="options">Options<a class="anchor" aria-label="anchor" href="#options"></a>
</h2>
<p>The options vector is a named character vector. Two named variables are used:</p>
<ul>
<li>
<code>transmissivity_profile</code> which defines the transmissivity function used
for the hillslope HRUs</li>
<li>
<code>channel_solver</code> which defines the channel solution to be used</li>
</ul>
<p>The columns present in the hillslope and channel data.frames will depend upon
the value taken by these options. See the
<a href="Hillslope_HRU.html">hillslope</a>
and
<a href="Channel_HRU.html">channel</a>
vignettes for further details.</p>
</div>
<div class="section level2">
<h2 id="hillslope-hru-table">Hillslope HRU table<a class="anchor" aria-label="anchor" href="#hillslope-hru-table"></a>
</h2>
<p>Each row of the hillslope table describes a single hillslope HRU. In this example it looks like:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">model</span><span class="op">$</span><span class="va">hillslope</span><span class="op">)</span>
<span class="co">#&gt;   id      area   atb_bar      s_bar min_dst width s_sf s_rz s_uz s_sz</span>
<span class="co">#&gt; 1 20  1451.820  9.121463 0.28916356       1    40   NA   NA   NA   NA</span>
<span class="co">#&gt; 2 21  5911.932  9.598746 0.36701868       1   160   NA   NA   NA   NA</span>
<span class="co">#&gt; 3 22 16356.278 10.264301 0.26385821       1   440   NA   NA   NA   NA</span>
<span class="co">#&gt; 4 23 23625.880 10.824251 0.18010123       1   640   NA   NA   NA   NA</span>
<span class="co">#&gt; 5 24 48632.930 11.497418 0.15906415       1  1320   NA   NA   NA   NA</span>
<span class="co">#&gt; 6 25 75373.071 12.106720 0.09886103       1  2040   NA   NA   NA   NA</span>
<span class="co">#&gt;   cls_atb_20_band cls_atb_20 cls_band opt r_sfmax c_sf s_rzmax  t_d ln_t0 c_sz</span>
<span class="co">#&gt; 1               1          1        1 exp     Inf  0.1    0.05 7200    -2   NA</span>
<span class="co">#&gt; 2               2          2        1 exp     Inf  0.1    0.05 7200    -2   NA</span>
<span class="co">#&gt; 3               3          3        1 exp     Inf  0.1    0.05 7200    -2   NA</span>
<span class="co">#&gt; 4               4          4        1 exp     Inf  0.1    0.05 7200    -2   NA</span>
<span class="co">#&gt; 5               5          5        1 exp     Inf  0.1    0.05 7200    -2   NA</span>
<span class="co">#&gt; 6               8          6        1 exp     Inf  0.1    0.05 7200    -2   NA</span>
<span class="co">#&gt;      m  D m_2 omega s_rz0 r_uz_sz0 s_raf t_raf</span>
<span class="co">#&gt; 1 0.04 NA  NA    NA  0.75    1e-06     0   Inf</span>
<span class="co">#&gt; 2 0.04 NA  NA    NA  0.75    1e-06     0   Inf</span>
<span class="co">#&gt; 3 0.04 NA  NA    NA  0.75    1e-06     0   Inf</span>
<span class="co">#&gt; 4 0.04 NA  NA    NA  0.75    1e-06     0   Inf</span>
<span class="co">#&gt; 5 0.04 NA  NA    NA  0.75    1e-06     0   Inf</span>
<span class="co">#&gt; 6 0.04 NA  NA    NA  0.75    1e-06     0   Inf</span></code></pre></div>
<p>The individual columns are documented in Table <a href="#tab:hillslope-table">2</a>. Not all the parameters are relevant for each option. See the Hillslope HRU vignette for details.</p>
<table class="table">
<caption>
<span id="tab:hillslope-table">Table 2: </span> Description of hillslope data frame columns</caption>
<colgroup>
<col width="21%">
<col width="21%">
<col width="21%">
<col width="35%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Class</th>
<th>Unit</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>id</td>
<td>integer</td>
<td>-</td>
<td>Unique identifying number of the HRU. These combined with the HRU numbers in the channel table should be unique and take values 1,2,3…</td>
</tr>
<tr class="even">
<td>area</td>
<td>numeric</td>
<td>m<span class="math inline">\(^2\)</span>
</td>
<td>Surface area of the HRU</td>
</tr>
<tr class="odd">
<td>atb_bar</td>
<td>numeric</td>
<td>??</td>
<td>Topographic index, log if the upslope area divided by tangent of gradient</td>
</tr>
<tr class="even">
<td>s_bar</td>
<td>numeric</td>
<td>-</td>
<td>Average gradient</td>
</tr>
<tr class="odd">
<td>min_dst</td>
<td>numeric</td>
<td>-[m]</td>
<td>Minimum distance from HRU to a channel from the distance metric used in the model generation</td>
</tr>
<tr class="even">
<td>width</td>
<td>numeric</td>
<td>m</td>
<td>Contour length of downslope end of HRU</td>
</tr>
<tr class="odd">
<td>s_sf</td>
<td>numeric</td>
<td>m</td>
<td>Surface Zone storage volume per unit area (state)</td>
</tr>
<tr class="even">
<td>s_rz</td>
<td>numeric</td>
<td>m</td>
<td>Root Zone storage volume per unit area (state)</td>
</tr>
<tr class="odd">
<td>s_uz</td>
<td>numeric</td>
<td>m</td>
<td>Unsaturated Zone storage volume per unit area (state)</td>
</tr>
<tr class="even">
<td>s_sz</td>
<td>numeric</td>
<td>m</td>
<td>Saturated Zone storage deficit per unit area (state)</td>
</tr>
<tr class="odd">
<td>cls_*</td>
<td>integer</td>
<td>-</td>
<td>Classification of HRU in each of the classes used in its definition. The extra part of the name matches the class name given in dynatopGIS</td>
</tr>
<tr class="even">
<td>opt</td>
<td>character</td>
<td>-</td>
<td>Option controlling the type of Hillslope HRU. Currently defines the transmissivity profile.</td>
</tr>
<tr class="odd">
<td>r_sfmax</td>
<td>numeric</td>
<td>m/s</td>
<td>Maximum flow rate from surface to root zone (parameter)</td>
</tr>
<tr class="even">
<td>c_sf</td>
<td>numeric</td>
<td>m/s</td>
<td>Celerity of the surface excess storage (parameter)</td>
</tr>
<tr class="odd">
<td>s_rzmax</td>
<td>numeric</td>
<td>m</td>
<td>Maximum root zone depth (parameter)</td>
</tr>
<tr class="even">
<td>t_d</td>
<td>numeric</td>
<td>s/m</td>
<td>Unsaturated zone time constant given per <span class="math inline">\(m\)</span> of saturated storage deficit (parameter)</td>
</tr>
<tr class="odd">
<td>ln_t0</td>
<td>numeric</td>
<td>m/s</td>
<td>Log of the soil saturated conductivity (parameter)</td>
</tr>
<tr class="even">
<td>m</td>
<td>numeric</td>
<td>-</td>
<td>Exponential transmissivity decay parameter (parameter)</td>
</tr>
<tr class="odd">
<td>m_2</td>
<td>numeric</td>
<td>-</td>
<td>Second Exponential transmissivity decay parameter (parameter)</td>
</tr>
<tr class="even">
<td>omega</td>
<td>numeric</td>
<td>0-1</td>
<td>Weighting between the two transmissivity parameters (parameter)</td>
</tr>
<tr class="odd">
<td>c_sz</td>
<td>numeric</td>
<td>m/s</td>
<td>Constant saturated zone celerity (parameter)</td>
</tr>
<tr class="even">
<td>s_rz0</td>
<td>numeric</td>
<td>0-1</td>
<td>Initial root zone depth expressed as fraction of maximum depth (parameter)</td>
</tr>
<tr class="odd">
<td>r_uz_sz0</td>
<td>numeric</td>
<td>m/s</td>
<td>Initial recharge to the saturated zone per unit area (parameter)</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="channel-hru-table">Channel HRU table<a class="anchor" aria-label="anchor" href="#channel-hru-table"></a>
</h2>
<p>Each row of the channel HRU table describes a single channel HRU. In this example it looks like:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">model</span><span class="op">$</span><span class="va">channel</span><span class="op">)</span>
<span class="co">#&gt;                  name1                           identifier</span>
<span class="co">#&gt; 0        Hawthorn Gill 16D0AC09-E0B6-4727-83B8-567E8DE9C533</span>
<span class="co">#&gt; 1 Little Mosedale Beck 643017BB-01BC-4738-898F-1C62B84164BF</span>
<span class="co">#&gt; 2        Mosedale Beck D2C2703E-A32F-4D88-A022-4E27EA52FC5C</span>
<span class="co">#&gt; 3                 &lt;NA&gt; 991D9896-CA0C-492F-A6EE-8BA3972DDA3C</span>
<span class="co">#&gt; 4                 &lt;NA&gt; CC8639D7-00D2-4C26-9252-350E5A748D51</span>
<span class="co">#&gt; 5                 &lt;NA&gt; ED03FEDD-0F4B-40C7-86E8-6F0EA8BAC182</span>
<span class="co">#&gt;                              startNode                              endNode</span>
<span class="co">#&gt; 0 730F01D2-0F4F-4E27-AF55-B1782F0F844B 72B1A40B-E106-42A9-A261-4B7720037ADB</span>
<span class="co">#&gt; 1 9B06188C-F4C7-436C-8108-3956D5FFD5CD A19E0D3A-2FA1-4E6D-AEA4-472F91ABC2AC</span>
<span class="co">#&gt; 2 B03DB3BD-0E33-4E10-A935-997832752609 D649B60C-E631-47FA-971E-CA388DBDDE63</span>
<span class="co">#&gt; 3 D968F174-FB80-404A-A4A7-2862CC722482 1FDBFCFF-799C-41CF-A2CB-8A56368BD438</span>
<span class="co">#&gt; 4 1FDBFCFF-799C-41CF-A2CB-8A56368BD438 7C251581-3764-4DEE-8031-EC98FABC1F87</span>
<span class="co">#&gt; 5 D3A1AEA9-93A6-4ACF-9A11-363F9517723F 673269DF-9E48-4EA0-B439-3D565A023DD2</span>
<span class="co">#&gt;          form         flow fictitious length name2 sinkdepth Shape_Leng width</span>
<span class="co">#&gt; 0 inlandRiver in direction      false    431  &lt;NA&gt;        -1  431.30438     2</span>
<span class="co">#&gt; 1 inlandRiver in direction      false    513  &lt;NA&gt;        -1  513.12806     2</span>
<span class="co">#&gt; 2 inlandRiver in direction      false    740  &lt;NA&gt;        -1  739.76378     2</span>
<span class="co">#&gt; 3 inlandRiver in direction      false    573  &lt;NA&gt;        -1  573.48312     2</span>
<span class="co">#&gt; 4 inlandRiver in direction      false     29  &lt;NA&gt;        -1   29.18951     2</span>
<span class="co">#&gt; 5 inlandRiver in direction      false    413  &lt;NA&gt;        -1  413.14877     2</span>
<span class="co">#&gt;                             channel_id id area v_ch</span>
<span class="co">#&gt; 0 16D0AC09-E0B6-4727-83B8-567E8DE9C533  2   24    1</span>
<span class="co">#&gt; 1 643017BB-01BC-4738-898F-1C62B84164BF 17  255    1</span>
<span class="co">#&gt; 2 D2C2703E-A32F-4D88-A022-4E27EA52FC5C 11  242    1</span>
<span class="co">#&gt; 3 991D9896-CA0C-492F-A6EE-8BA3972DDA3C  7  126    1</span>
<span class="co">#&gt; 4 CC8639D7-00D2-4C26-9252-350E5A748D51  6    6    1</span>
<span class="co">#&gt; 5 ED03FEDD-0F4B-40C7-86E8-6F0EA8BAC182 12  168    1</span></code></pre></div>
<p>Many of the columns are not needed and are passed through from the original
data. The columns required are documented in Table <a href="#tab:channel-table">3</a>.</p>
<table class="table">
<caption>
<span id="tab:channel-table">Table 3: </span> Description of channel data frame columns</caption>
<colgroup>
<col width="21%">
<col width="21%">
<col width="21%">
<col width="35%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Class</th>
<th>Unit</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>id</td>
<td>integer</td>
<td>-</td>
<td>Unique identifying number of the channel HRU. These, combined with the id from the hillslope table should for consecutive integers increasing from 1.</td>
</tr>
<tr class="even">
<td>area</td>
<td>numeric</td>
<td>m<span class="math inline">\(^2\)</span>
</td>
<td>Surface area of the HRU in m<span class="math inline">\(^2\)</span>
</td>
</tr>
<tr class="odd">
<td>length</td>
<td>numeric</td>
<td>m</td>
<td>Length of the channel in metres</td>
</tr>
<tr class="even">
<td>v_ch</td>
<td>numeric</td>
<td>m/s</td>
<td>Channel velocity parameter</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="gauge-locations">Gauge locations<a class="anchor" aria-label="anchor" href="#gauge-locations"></a>
</h2>
<p>Gauge locations can be specified on the channel HRUs as outlined in Table
<a href="#tab:gauge-table">4</a>. Gauges are taken to be at the outlet of the channel length.</p>
<table class="table">
<caption>
<span id="tab:gauge-table">Table 4: </span> Description of gauge data frame columns</caption>
<colgroup>
<col width="21%">
<col width="21%">
<col width="21%">
<col width="35%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Class</th>
<th>Unit</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>name</td>
<td>character</td>
<td>-</td>
<td>Unique name to identify the gauge. Used to name the output series</td>
</tr>
<tr class="even">
<td>id</td>
<td>integer</td>
<td>-</td>
<td>The id of the channel HRU on which the gauge is sited</td>
</tr>
</tbody>
</table>
<p>In this case there is a single gauge at the outlet:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span><span class="op">$</span><span class="va">gauge</span>
<span class="co">#&gt;        name id</span>
<span class="co">#&gt; 1 channel_1  1</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="point-inflows">Point Inflows<a class="anchor" aria-label="anchor" href="#point-inflows"></a>
</h2>
<p>The point_inflow data frame allows the specification for point inflow which
are added to the inflow at the head of the channel length.</p>
<table class="table">
<caption>
<span id="tab:point-inflow-table">Table 5: </span> Description of point_inflow data frame columns</caption>
<thead><tr class="header">
<th>Name</th>
<th>Class</th>
<th>Unit</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>name</td>
<td>character</td>
<td>-</td>
<td>Name of the input series to use.</td>
</tr>
<tr class="even">
<td>id</td>
<td>integer</td>
<td>-</td>
<td>The id of the channel HRU to which the inflow is added</td>
</tr>
</tbody>
</table>
<p>In the current catchment there are no inflows so the table is left blank:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span><span class="op">$</span><span class="va">point_inflow</span>
<span class="co">#&gt; [1] name id  </span>
<span class="co">#&gt; &lt;0 rows&gt; (or 0-length row.names)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="diffuse-inflows">Diffuse Inflows<a class="anchor" aria-label="anchor" href="#diffuse-inflows"></a>
</h2>
<p>The diffuse_inflow data frame allows the specification of diffuse inputs to
the channel. These are presumed to occur uniformly along the channel length.</p>
<table class="table">
<caption>
<span id="tab:diffuse-inflow-table">Table 6: </span> Description of diffuse_inflow data frame columns</caption>
<thead><tr class="header">
<th>Name</th>
<th>Class</th>
<th>Unit</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>name</td>
<td>character</td>
<td>-</td>
<td>Name of the input series to use.</td>
</tr>
<tr class="even">
<td>id</td>
<td>integer</td>
<td>-</td>
<td>The id of the channel HRU to which the inflow is added</td>
</tr>
</tbody>
</table>
<p>In the current catchment there are no inflows so the table is left blank:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span><span class="op">$</span><span class="va">diffuse_inflow</span>
<span class="co">#&gt; [1] name id  </span>
<span class="co">#&gt; &lt;0 rows&gt; (or 0-length row.names)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="flow-direction">Flow direction<a class="anchor" aria-label="anchor" href="#flow-direction"></a>
</h2>
<p>The flow_direction data frame describes the connections between the HRUs.</p>
<table class="table">
<caption>
<span id="tab:flow-direction-table">Table 7: </span> Description of flow_direction data frame columns</caption>
<colgroup>
<col width="21%">
<col width="21%">
<col width="21%">
<col width="35%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Class</th>
<th>Unit</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>from</td>
<td>integer</td>
<td>-</td>
<td>id of the HRU which the flow comes from</td>
</tr>
<tr class="even">
<td>to</td>
<td>integer</td>
<td>-</td>
<td>id of the HRU to which the flow is going</td>
</tr>
<tr class="odd">
<td>frc</td>
<td>numeric</td>
<td>0-1</td>
<td>Fraction of the flow which goes from the <code>from</code> id to the <code>to</code> id</td>
</tr>
</tbody>
</table>
<p>The start of the data frame in the current example is:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">model</span><span class="op">$</span><span class="va">flow_direction</span><span class="op">)</span>
<span class="co">#&gt;        from   to       frc</span>
<span class="co">#&gt; 18502  1853 1850 0.3033095</span>
<span class="co">#&gt; 185110 1853 1851 0.4704486</span>
<span class="co">#&gt; 1852   1853 1852 0.2262419</span>
<span class="co">#&gt; 18492  1852 1849 0.3781666</span>
<span class="co">#&gt; 18501  1852 1850 0.4736997</span>
<span class="co">#&gt; 1851   1852 1851 0.1481338</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="precipitation-input">Precipitation input<a class="anchor" aria-label="anchor" href="#precipitation-input"></a>
</h2>
<p>The precip_input data frame describes the precipitation series to use for each
HRU. Each row contains a HRU id, the series to use and the fraction of the HRU
to which this series should be applied. From this an average precipitation
for each HRU is derived.</p>
<table class="table">
<caption>
<span id="tab:precip-input-table">Table 8: </span> Description of precip_input data frame columns</caption>
<colgroup>
<col width="21%">
<col width="21%">
<col width="21%">
<col width="35%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Class</th>
<th>Unit</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>id</td>
<td>integer</td>
<td>-</td>
<td>The id of the channel HRU to which the input is applied</td>
</tr>
<tr class="even">
<td>name</td>
<td>character</td>
<td>-</td>
<td>Name of the input series to use.</td>
</tr>
<tr class="odd">
<td>frc</td>
<td>numeric</td>
<td>0-1</td>
<td>The fraction of the HRU area for which the input series is valid</td>
</tr>
</tbody>
</table>
<p>In the current example there is a single precipitation series being used:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">model</span><span class="op">$</span><span class="va">precip_input</span><span class="op">)</span>
<span class="co">#&gt;       name id frc</span>
<span class="co">#&gt; 1 Rainfall  2   1</span>
<span class="co">#&gt; 2 Rainfall 17   1</span>
<span class="co">#&gt; 3 Rainfall 11   1</span>
<span class="co">#&gt; 4 Rainfall  7   1</span>
<span class="co">#&gt; 5 Rainfall  6   1</span>
<span class="co">#&gt; 6 Rainfall 12   1</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="pet-input">PET input<a class="anchor" aria-label="anchor" href="#pet-input"></a>
</h2>
<p>The pet_input data frame describes the potential evapotranspiration series to use for each
HRU. Each row contains a HRU id, the series to use and the fraction of the HRU
to which this series should be applied. From this an average PET value
for each HRU is derived.</p>
<table class="table">
<caption>
<span id="tab:pet-input-table">Table 9: </span> Description of pet_input data frame columns</caption>
<colgroup>
<col width="21%">
<col width="21%">
<col width="21%">
<col width="35%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Class</th>
<th>Unit</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>id</td>
<td>integer</td>
<td>-</td>
<td>The id of the channel HRU to which the input is applied</td>
</tr>
<tr class="even">
<td>name</td>
<td>character</td>
<td>-</td>
<td>Name of the input series to use.</td>
</tr>
<tr class="odd">
<td>frc</td>
<td>numeric</td>
<td>0-1</td>
<td>The fraction of the HRU area for which the input series is valid</td>
</tr>
</tbody>
</table>
<p>In the current example there is a single PET series being used:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">model</span><span class="op">$</span><span class="va">pet_input</span><span class="op">)</span>
<span class="co">#&gt;   name id frc</span>
<span class="co">#&gt; 1  PET  2   1</span>
<span class="co">#&gt; 2  PET 17   1</span>
<span class="co">#&gt; 3  PET 11   1</span>
<span class="co">#&gt; 4  PET  7   1</span>
<span class="co">#&gt; 5  PET  6   1</span>
<span class="co">#&gt; 6  PET 12   1</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Paul Smith, Peter Metcalfe.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
